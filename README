__   __ ___     _____  ____
\ \ / // \ \   / / _ \/ ___|
 \ V // _ \ \ / / | | \___ \
  | |/ ___ \ V /| |_| |___) |
  |_/_/   \_\_/  \___/|____/

Introduction
------------

YAVOS is an open source, privacy respecting framework which makes it easy to 
develop voice enabled applications.

YAVOS supports local or remote microphones and speakers and local or remote
speech to text (STT) and text to speech (TTS) services enabling free STT and
TTS for local, edge or cloud based devices.


Installation
------------

Assuming you have the yavos.tgz file in the current directory and this is where 
you want to install the system run the following commands.


tar xzfv yavos.tgz

cd YAVOS

./install.sh


If you choose to clone the repository rather than install from a tgz file.

git clone git@github.com:PrivoxAnon1/YAVOS.git

cd YAVOS

./install.sh


Test the Install
----------------

To test if the system is operational, change into the yavos/ directory
(YAVOS/yavos/) and run the following commands.

source ../venv_yavos/bin/activate

export PYTHONPATH=.

./Scripts/yavos_start.sh

python Examples/echo/echo.py

This should echo whatever you say.

Note - all commands are run from the base directory YAVOS/yavos/.


Getting Started
---------------

By default YAVOS is configured to run locally. This means the microphone 
on the server running YAVOS is used as well as the speaker connected to the
YAVOS system. Additionally, all speech to text (STT) and text to speech (TTS)
is performed locally. By default local STT is provided by Whisper or Vosk.
For local TTS the default is Piper or Coqui. Additional modules are easily 
added.

These options may be changed by either directly editing the yava.yml file
or by running the configuration server. The configuration server is a 
default python web app which runs on the YAVOS host on port 8000. It allows 
you to configure the system and provides additional functionality like 
monitoring the message bus or running the microphone and speaker from a 
web browser.

To run the config server from YAVOS/yavos/ run the following command

./Scripts/run_config_srvr.sh

Then bring up a browser and go to the default webpage on port 8000. Your URL
should be http://localhost:8000 or whatever IP address the YAVOS host is 
like http://192.168.1.10:8000 or http://10.0.0.20:8000 if you choose to run
the configuration server on a separate machine. The system documentation is
also available from the configuration server. Select 'Docs' from the main
menu.


Running the System
------------------

./Scripts/yavos_start.sh


Stopping the system
-------------------

./Scripts/yava_stop.sh


Configuring the System
----------------------

./Scripts/run_config.srvr.sh


Notes:
(1) If you choose to use a remote microphone you must install ffmpeg as this 
utility is used to convert the webm files typically coming from a browser to
mp4 format. ffmpeg is not required if you run the local recognizer.

(2) OSX users must change the aplay command to afplay and the arecord command
to afrecord in the yava.yml file. This may be done by editing the file 
directly or using the configuration server. 

(3) If you plan on using a remote microphone and remore speaker than you do 
not need to worry about the aplay or arecord command as they are only used
when you run locally. 

